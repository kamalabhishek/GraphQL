{"ast":null,"code":"import _regeneratorRuntime from\"/home/kamalabhishek.gunna/Desktop/desktp/imp/gQ/Graphql-assignments/twitter-react-assignment/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/kamalabhishek.gunna/Desktop/desktp/imp/gQ/Graphql-assignments/twitter-react-assignment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/kamalabhishek.gunna/Desktop/desktp/imp/gQ/Graphql-assignments/twitter-react-assignment/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/home/kamalabhishek.gunna/Desktop/desktp/imp/gQ/Graphql-assignments/twitter-react-assignment/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState}from\"react\";import useGetAllTweets from\"../Hooks/useGetAllTweets\";import logo from\"../images/tlogo.jpeg\";import verify from\"../images/verify.png\";import green from\"../images/greenDot.png\";import gray from\"../images/grayDot.png\";import sum from\"../images/sum.png\";import Twitl from\"../images/twitl.png\";import\"./Tweets.css\";import{Button}from\"@mui/material\";import{gql,useMutation}from\"@apollo/client\";import Create from\"./Create\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var READ_TWEET=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  mutation MarkTweetRead($markTweetReadId: ID!) {\\n    markTweetRead(id: $markTweetReadId)\\n  }\\n\"])));function Tweets(){var _useGetAllTweets=useGetAllTweets(),error=_useGetAllTweets.error,loading=_useGetAllTweets.loading,data=_useGetAllTweets.data;var _useState=useState(),_useState2=_slicedToArray(_useState,2),idVal=_useState2[0],setIdVal=_useState2[1];var _useMutation=useMutation(READ_TWEET,{variables:{markTweetReadId:idVal}}),_useMutation2=_slicedToArray(_useMutation,2),readOrNot=_useMutation2[0],_useMutation2$=_useMutation2[1],data1=_useMutation2$.data,loading1=_useMutation2$.loading,error1=_useMutation2$.error;if(loading)return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"h1\",{children:\"Something Went Wrong...\"});var formatDate=function formatDate(dateString){var options={month:\"short\",day:\"numeric\"};return new Date(dateString).toLocaleDateString([],options);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Tweetcontain\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tweets\"}),/*#__PURE__*/_jsx(Button,{style:{textTransform:\"none\",color:\"black\",backgroundColor:\"lightgrey\",marginRight:\"30px\",height:\"30px\",marginTop:\"20px\"},startIcon:/*#__PURE__*/_jsx(\"img\",{src:Twitl,alt:\"verify image\",height:\"20px\",width:\"20px\"}),children:\"Follow @twitterapi\"})]}),data.tweets.map(function(tweet,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"contain\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"twitter image\",height:\"80px\",width:\"80px\"}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topcontain\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setIdVal(tweet.id);case 2:_context.next=4;return readOrNot();case 4:window.location.reload();case 5:case\"end\":return _context.stop();}}},_callee);})),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topcontainleft\",children:[tweet.userTweet.username,\" \",/*#__PURE__*/_jsx(\"img\",{src:verify,alt:\"verify image\",height:\"20px\",width:\"20px\"}),\" \",\"@\",tweet.userTweet.name,tweet.read?/*#__PURE__*/_jsx(\"img\",{src:green,alt:\"verify image\",height:\"10px\",width:\"10px\"}):/*#__PURE__*/_jsx(\"img\",{src:gray,alt:\"verify image\",height:\"10px\",width:\"10px\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"topcontainright\",children:formatDate(tweet.date)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bodycontain\",children:[tweet.body,/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{style:{textTransform:\"none\",color:\"grey\"},startIcon:/*#__PURE__*/_jsx(\"img\",{src:sum,alt:\"verify image\",height:\"20px\",width:\"20px\"}),children:\"Show Summary\"})})]})]})]},key);}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"82%\",backgroundColor:\"lightgray\"},children:/*#__PURE__*/_jsx(Create,{})})]});}export default Tweets;","map":{"version":3,"names":["React","useState","useGetAllTweets","logo","verify","green","gray","sum","Twitl","Button","gql","useMutation","Create","READ_TWEET","Tweets","error","loading","data","idVal","setIdVal","variables","markTweetReadId","readOrNot","data1","loading1","error1","formatDate","dateString","options","month","day","Date","toLocaleDateString","textTransform","color","backgroundColor","marginRight","height","marginTop","tweets","map","tweet","key","width","id","window","location","reload","userTweet","username","name","read","date","body"],"sources":["/home/kamalabhishek.gunna/Desktop/desktp/imp/gQ/Graphql-assignments/twitter-react-assignment/src/Pages/Tweets.tsx"],"sourcesContent":["import React, { ReactNode, useState } from \"react\";\nimport useGetAllTweets from \"../Hooks/useGetAllTweets\";\nimport logo from \"../images/tlogo.jpeg\";\nimport verify from \"../images/verify.png\";\nimport green from \"../images/greenDot.png\";\nimport gray from \"../images/grayDot.png\";\nimport sum from \"../images/sum.png\";\nimport Twitl from \"../images/twitl.png\";\nimport \"./Tweets.css\";\nimport { Button, InputBase, Link } from \"@mui/material\";\n\nimport { gql, useMutation } from \"@apollo/client\";\nimport Create from \"./Create\";\n\nconst READ_TWEET = gql`\n  mutation MarkTweetRead($markTweetReadId: ID!) {\n    markTweetRead(id: $markTweetReadId)\n  }\n`;\n\nfunction Tweets() {\n  const { error, loading, data } = useGetAllTweets();\n\n  const [idVal, setIdVal] = useState<string>();\n  const [readOrNot, { data: data1, loading: loading1, error: error1 }] =\n    useMutation(READ_TWEET, {\n      variables: {\n        markTweetReadId: idVal,\n      },\n    });\n\n  if (loading) return <h1>Loading...</h1>;\n\n  if (error) return <h1>Something Went Wrong...</h1>;\n\n  const formatDate = (dateString: string) => {\n    const options: Intl.DateTimeFormatOptions = {\n      month: \"short\",\n      day: \"numeric\",\n    };\n    return new Date(dateString).toLocaleDateString([], options);\n  };\n\n  return (\n    <div>\n      <div className=\"Tweetcontain\">\n        <h1>Tweets</h1>\n        <Button\n          style={{\n            textTransform: \"none\",\n            color: \"black\",\n            backgroundColor: \"lightgrey\",\n            marginRight: \"30px\",\n            height: \"30px\",\n            marginTop: \"20px\",\n          }}\n          startIcon={\n            <img\n              src={Twitl}\n              alt=\"verify image\"\n              height={\"20px\"}\n              width={\"20px\"}\n            />\n          }\n        >\n          Follow @twitterapi\n        </Button>\n      </div>\n      {data.tweets.map(\n        (\n          tweet: {\n            body: ReactNode;\n            date: string;\n            id: string;\n            read: boolean;\n            userTweet: {\n              username: string;\n              name: string;\n            };\n            statTweet: {\n              views: string | number;\n            };\n          },\n          key: any\n        ) => (\n          <div className=\"contain\" key={key}>\n            <img\n              src={logo}\n              alt=\"twitter image\"\n              height={\"80px\"}\n              width={\"80px\"}\n            />\n            <div style={{ width:\"100%\"}}>\n              <div\n                className={\"topcontain\"}\n                onClick={async () => {\n                  await setIdVal(tweet.id);\n                  await readOrNot();\n                  window.location.reload();\n                }}\n              >\n                <div className=\"topcontainleft\">\n                  {tweet.userTweet.username}{\" \"}\n                  <img\n                    src={verify}\n                    alt=\"verify image\"\n                    height={\"20px\"}\n                    width={\"20px\"}\n                  />{\" \"}\n                  @{tweet.userTweet.name}\n                  {tweet.read ? (\n                    <img\n                      src={green}\n                      alt=\"verify image\"\n                      height={\"10px\"}\n                      width={\"10px\"}\n                    />\n                  ) : (\n                    <img\n                      src={gray}\n                      alt=\"verify image\"\n                      height={\"10px\"}\n                      width={\"10px\"}\n                    />\n                  )}\n                </div>\n                <div className=\"topcontainright\">{formatDate(tweet.date)}</div>\n              </div>\n              <div className=\"bodycontain\">\n                {tweet.body}\n                <div>\n                  <Button\n                    style={{ textTransform: \"none\", color: \"grey\" }}\n                    startIcon={\n                      <img\n                        src={sum}\n                        alt=\"verify image\"\n                        height={\"20px\"}\n                        width={\"20px\"}\n                      />\n                    }\n                  >\n                    Show Summary\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n      )}\n      <div style={{ width: \"82%\", backgroundColor: \"lightgray\" }}>\n        <Create></Create>\n      </div>\n    </div>\n  );\n}\n\nexport default Tweets;"],"mappings":"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"},"metadata":{},"sourceType":"module"}